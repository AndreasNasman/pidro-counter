{"version":3,"sources":["components/app/types.ts","components/keypad/styles.ts","constants/colors.ts","components/keypad/keypad.tsx","constants/game.ts","components/scoreboard/styles.ts","components/scoreboard/scoreboard.tsx","components/toolbar/styles.ts","components/toolbar/toolbar.tsx","components/app/styles.ts","serviceWorker.ts","index.tsx","components/app/app.tsx"],"names":["Phases","Button","styled","button","_templateObject","props","active","activeColor","DigitContainer","div","_templateObject2","H2","h2","_templateObject3","Container","_templateObject4","TeamContainer","_templateObject5","Keypad","_ref","phase","teams","updateSet","_useState","useState","Array","from","MAXIMUM_POINTS","keys","map","digit","digits","Object","slicedToArray","_useState3","undefined","_useState4","selectedTeam","setSelectedTeam","_useState5","_useState6","selectedDigit","setSelectedDigit","useEffect","points","team","handleTeamClick","event","newSelectedTeam","currentTarget","textContent","handleDigitClick","newSelectedDigit","Number","react_default","a","createElement","Bidding","key","onClick","Row","styles_templateObject","Body","styles_templateObject2","Cell","styles_templateObject3","Column","styles_templateObject4","Foot","styles_templateObject5","Head","_templateObject6","Table","_templateObject7","scoreboardMinHeight","Scoreboard","game","_useState2","setScoreboardMinHeight","bodyColumnRef","useRef","headRef","footRef","footCellRef","current","scrollIntoView","behavior","block","length","useLayoutEffect","currentHeadRef","currentFootRef","currentCellRef","newScoreboardMinHeight","concat","offsetHeight","ref","set","score","round","reduce","sum","Answer","span","toolbar_styles_templateObject","color","ChoiceContainer","toolbar_styles_templateObject2","Confirmation","toolbar_styles_templateObject3","toolbar_styles_templateObject4","H4","h4","toolbar_styles_templateObject5","IconWrapper","styles_templateObject6","disabled","Toolbar","canRedo","canUndo","redo","resetScore","undo","popoverOpen","setPopoverOpen","closePopover","replay","styles_Container","md","dist_default","content","_ref2","position","targetRect","popoverRect","dist","arrowColor","isOpen","onClickOutside","padding","Felt","app_styles_templateObject","SPACING","Grid","app_styles_templateObject2","GlobalStyle","createGlobalStyle","app_styles_templateObject3","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","rootElement","document","getElementById","ReactDOM","render","storedGame","localStorage","getItem","JSON","parse","setGame","currentSet","last","getNextPhase","Score","setPhase","_useState7","storedRedoHistory","_useState8","redoHistory","setRedoHistory","setItem","stringify","bid","nextRound","toConsumableArray","winner","biddingPoints","biddingTeam","result","slice","objectSpread","Fragment","scoreboard_Scoreboard","toolbar_Toolbar","nextGameState","keypad_Keypad","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c7df0cac.chunk.js","sourcesContent":["export type Team = 'vi' | 'de';\n\nexport interface IResult {\n  points: number;\n  team: Team;\n}\n\nexport type Score = { [K in Team]: number };\n\nexport interface ISet {\n  bid: IResult;\n  round: number;\n  score?: Score;\n}\n\nexport type Game = ISet[];\n\nexport enum Phases {\n  Bidding,\n  Score,\n}\n","import styled, { StyledComponent } from 'styled-components';\nimport { PLAYING_CARD_WHITE } from '../../constants/colors';\nimport { IButton } from './types';\n\nconst BUTTON_GAP: number = 0.1;\n\nexport const Button: StyledComponent<'button', {}, IButton> = styled.button`\n  background-color: ${(props: IButton): string =>\n    props.active ? PLAYING_CARD_WHITE : 'transparent'};\n  border: 0.25rem solid ${PLAYING_CARD_WHITE};\n  border-radius: 0.5rem;\n  color: ${(props: IButton): string =>\n    props.active ? props.activeColor : PLAYING_CARD_WHITE};\n  font-size: 1.5rem;\n  font-weight: bold;\n  padding: 0.5rem;\n  text-transform: uppercase;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const DigitContainer: StyledComponent<'div', {}> = styled.div`\n  display: grid;\n  grid-gap: ${BUTTON_GAP}rem;\n  grid-template-columns: 1fr 1fr 1fr;\n`;\n\nexport const H2: StyledComponent<'h2', {}> = styled.h2`\n  color: ${PLAYING_CARD_WHITE};\n  margin-bottom: 0.5rem;\n  margin-top: 0;\n  text-align: center;\n`;\n\nexport const Container: StyledComponent<'div', {}> = styled.div`\n  align-content: center;\n  display: grid;\n  grid-area: keypad;\n  min-width: max-content;\n`;\n\nexport const TeamContainer: StyledComponent<'div', {}> = styled.div`\n  column-gap: ${BUTTON_GAP}rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  margin-bottom: ${BUTTON_GAP}rem;\n`;\n","export const BLACK_BOARD: string = '#282828';\nexport const CHALK_WHITE: string = '#fefeff';\nexport const DECK_BLUE: string = '#12257d';\nexport const DECK_RED: string = '#ea3f42';\nexport const FELT_GREEN: string = '#006e3b';\nexport const PLAYING_CARD_BLACK: string = '#000';\nexport const PLAYING_CARD_RED: string = '#ff534f';\nexport const PLAYING_CARD_WHITE: string = '#fff';\n","import React, {\n  FunctionComponent,\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react';\nimport { PLAYING_CARD_BLACK, PLAYING_CARD_RED } from '../../constants/colors';\nimport { MAXIMUM_POINTS, MINIMUM_POINTS } from '../../constants/game';\nimport { Phases, Team } from '../app/types';\nimport { Button, Container, DigitContainer, H2, TeamContainer } from './styles';\nimport { IProps } from './types';\n\nexport const Keypad: FunctionComponent<IProps> = ({\n  phase,\n  teams,\n  updateSet,\n}: IProps): ReactElement => {\n  const [digits] = useState(() =>\n    Array.from(Array(MAXIMUM_POINTS - MINIMUM_POINTS + 1).keys()).map(\n      (digit: number) => digit + MINIMUM_POINTS,\n    ),\n  );\n  const [selectedTeam, setSelectedTeam] = useState<Team | undefined>(undefined);\n  const [selectedDigit, setSelectedDigit] = useState<number | undefined>(\n    undefined,\n  );\n\n  useEffect(() => {\n    if (selectedTeam === undefined || selectedDigit === undefined) {\n      return undefined;\n    }\n\n    updateSet({ points: selectedDigit, team: selectedTeam });\n    setSelectedTeam(undefined);\n    setSelectedDigit(undefined);\n  }, [selectedTeam, selectedDigit]);\n\n  const handleTeamClick: (\n    event: React.MouseEvent<HTMLButtonElement>,\n  ) => void = (event: React.MouseEvent<HTMLButtonElement>): void => {\n    const newSelectedTeam: Team = event.currentTarget.textContent as Team;\n\n    if (newSelectedTeam === selectedTeam) return;\n\n    setSelectedTeam(newSelectedTeam);\n  };\n\n  const handleDigitClick: (\n    event: React.MouseEvent<HTMLButtonElement>,\n  ) => void = (event: React.MouseEvent<HTMLButtonElement>): void => {\n    const { textContent } = event.currentTarget;\n    const newSelectedDigit: number = Number(textContent);\n\n    if (newSelectedDigit === selectedDigit) return;\n\n    setSelectedDigit(newSelectedDigit);\n  };\n\n  return (\n    <Container>\n      {phase === Phases.Bidding ? <H2>Vem bjöud?</H2> : <H2>Vem vann?</H2>}\n\n      <TeamContainer>\n        {teams.map((team: Team) => (\n          <Button\n            active={team === selectedTeam}\n            activeColor={PLAYING_CARD_BLACK}\n            key={team}\n            onClick={handleTeamClick}\n          >\n            {team}\n          </Button>\n        ))}\n      </TeamContainer>\n\n      <DigitContainer>\n        {digits.map((digit: number) => (\n          <Button\n            active={digit === selectedDigit}\n            activeColor={PLAYING_CARD_RED}\n            key={digit}\n            onClick={handleDigitClick}\n          >\n            {digit}\n          </Button>\n        ))}\n      </DigitContainer>\n    </Container>\n  );\n};\n","export const MAXIMUM_POINTS: number = 14;\nexport const MINIMUM_POINTS: number = 6;\n","import styled, { StyledComponent } from 'styled-components';\nimport { BLACK_BOARD, CHALK_WHITE } from '../../constants/colors';\nimport { ITable } from './types';\n\nconst Row: StyledComponent<'div', {}> = styled.div`\n  column-gap: 0.1rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n`;\n\nexport const Body: StyledComponent<'div', {}> = styled(Row)`\n  overflow: auto;\n`;\n\nexport const Cell: StyledComponent<'div', {}> = styled.div`\n  color: ${CHALK_WHITE};\n  font-size: 1.25rem;\n  text-align: center;\n  padding: 0.5rem;\n  text-transform: uppercase;\n`;\n\nexport const Column: StyledComponent<'div', {}> = styled.div`\n  background-color: ${BLACK_BOARD};\n`;\n\nexport const Foot: StyledComponent<'div', {}> = styled(Row)`\n  border-top: 0.2rem solid ${CHALK_WHITE};\n  font-weight: bold;\n`;\n\nexport const Head: StyledComponent<'div', {}> = styled(Row)`\n  border-bottom: 0.2rem solid ${CHALK_WHITE};\n  font-weight: bold;\n`;\n\nexport const Table: StyledComponent<'div', {}, ITable> = styled.div`\n  background-color: ${CHALK_WHITE};\n  display: grid;\n  grid-area: scoreboard;\n  grid-template-rows: auto 1fr auto;\n  min-height: ${(props: ITable): string => props.scoreboardMinHeight};\n  min-width: max-content;\n`;\n","import React, {\n  FunctionComponent,\n  MutableRefObject,\n  ReactElement,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { ISet, Team } from '../app/types';\nimport { Body, Cell, Column, Foot, Head, Table } from './styles';\nimport { IProps } from './types';\n\nexport const Scoreboard: FunctionComponent<IProps> = ({\n  game,\n  teams,\n}: IProps): ReactElement => {\n  const [scoreboardMinHeight, setScoreboardMinHeight] = useState('0');\n  const bodyColumnRef: MutableRefObject<HTMLDivElement | null> = useRef(null); // tslint:disable-line: no-null-keyword\n  const headRef: MutableRefObject<HTMLDivElement | null> = useRef(null); // tslint:disable-line: no-null-keyword\n  const footRef: MutableRefObject<HTMLDivElement | null> = useRef(null); // tslint:disable-line: no-null-keyword\n  const footCellRef: MutableRefObject<HTMLDivElement | null> = useRef(null); // tslint:disable-line: no-null-keyword\n\n  useEffect(() => {\n    const { current } = bodyColumnRef;\n    if (current === null) return undefined;\n\n    current.scrollIntoView({ behavior: 'smooth', block: 'end' });\n  }, [game.length]);\n\n  useLayoutEffect(() => {\n    const { current: currentHeadRef } = headRef;\n    const { current: currentFootRef } = footRef;\n    const { current: currentCellRef } = footCellRef;\n    if (\n      currentHeadRef === null ||\n      currentFootRef === null ||\n      currentCellRef === null\n    ) {\n      return undefined;\n    }\n\n    const newScoreboardMinHeight: string = `${currentHeadRef.offsetHeight +\n      currentFootRef.offsetHeight +\n      currentCellRef.offsetHeight}px`;\n    setScoreboardMinHeight(newScoreboardMinHeight);\n  }, []);\n\n  return (\n    <Table scoreboardMinHeight={scoreboardMinHeight}>\n      <Head ref={headRef}>\n        {teams.map((team: Team) => (\n          <Column key={team}>\n            <Cell>{team}</Cell>\n          </Column>\n        ))}\n      </Head>\n\n      <Body>\n        {teams.map((team: Team) => (\n          <Column key={team} ref={bodyColumnRef}>\n            {game.map(\n              (set: ISet) =>\n                set.score && <Cell key={set.round}>{set.score[team]}</Cell>, // tslint:disable-line: strict-boolean-expressions\n            )}\n          </Column>\n        ))}\n      </Body>\n\n      <Foot ref={footRef}>\n        {teams.map((team: Team) => (\n          <Column key={team}>\n            <Cell ref={footCellRef}>\n              {game.reduce(\n                (sum: number, set: ISet) =>\n                  set.score ? sum + set.score[team] : sum,\n                0,\n              )}\n            </Cell>\n          </Column>\n        ))}\n      </Foot>\n    </Table>\n  );\n};\n","import styled, { StyledComponent } from 'styled-components';\nimport { CHALK_WHITE } from '../../constants/colors';\nimport { IAnswer, IIconWrapper } from './types';\n\nexport const Answer: StyledComponent<'span', {}, IAnswer> = styled.span`\n  color: ${(props: IAnswer): string => props.color};\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.5rem;\n`;\n\nexport const ChoiceContainer: StyledComponent<'div', {}> = styled.div`\n  display: flex;\n  justify-content: space-around;\n`;\n\nexport const Confirmation: StyledComponent<'div', {}> = styled.div`\n  background-color: white;\n  border-radius: 0.5rem;\n  padding: 1rem;\n`;\n\nexport const Container: StyledComponent<'div', {}> = styled.div`\n  display: flex;\n  font-size: 1.5rem;\n  grid-area: toolbar;\n  justify-content: space-between;\n`;\n\nexport const H4: StyledComponent<'h4', {}> = styled.h4`\n  margin-top: 0;\n  text-align: center;\n`;\n\nexport const IconWrapper: StyledComponent<\n  'span',\n  {},\n  IIconWrapper\n> = styled.span`\n  align-items: center;\n  color: ${(props: IIconWrapper): string =>\n    props.disabled ? 'gray' : CHALK_WHITE};\n  display: flex;\n  padding: 0.5rem;\n  pointer-events: ${(props: IIconWrapper): string =>\n    props.disabled ? 'none' : 'auto'};\n`;\n","import React, { FunctionComponent, ReactElement, useState } from 'react';\nimport { MdRedo, MdReplay, MdUndo } from 'react-icons/md';\nimport Popover, {\n  ArrowContainer,\n  ContentRendererArgs,\n} from 'react-tiny-popover';\nimport {\n  DECK_BLUE,\n  DECK_RED,\n  PLAYING_CARD_WHITE,\n} from '../../constants/colors';\nimport {\n  Answer,\n  ChoiceContainer,\n  Confirmation,\n  Container,\n  H4,\n  IconWrapper,\n} from './styles';\nimport { IProps } from './types';\n\nexport const Toolbar: FunctionComponent<IProps> = ({\n  canRedo,\n  canUndo,\n  redo,\n  resetScore,\n  undo,\n}: IProps): ReactElement => {\n  const [popoverOpen, setPopoverOpen] = useState(false);\n\n  const openPopover: () => void = (): void => {\n    setPopoverOpen(true);\n  };\n\n  const closePopover: () => void = (): void => {\n    setPopoverOpen(false);\n  };\n\n  const replay: () => void = (): void => {\n    closePopover();\n    resetScore();\n  };\n\n  return (\n    <Container>\n      <IconWrapper disabled={!canUndo}>\n        <MdUndo onClick={undo} />\n      </IconWrapper>\n\n      <Popover\n        content={(\n          { position, targetRect, popoverRect }: ContentRendererArgs, // tslint:disable-line: jsx-no-lambda\n        ): JSX.Element => (\n          <ArrowContainer\n            arrowColor={PLAYING_CARD_WHITE}\n            popoverRect={popoverRect}\n            position={position}\n            targetRect={targetRect}\n          >\n            <Confirmation>\n              <H4>Vill du byri nyi spel?</H4>\n              <ChoiceContainer>\n                <Answer color={DECK_BLUE} onClick={replay}>\n                  Jepp\n                </Answer>\n                <Answer color={DECK_RED} onClick={closePopover}>\n                  Nepp\n                </Answer>\n              </ChoiceContainer>\n            </Confirmation>\n          </ArrowContainer>\n        )}\n        isOpen={popoverOpen}\n        onClickOutside={closePopover}\n        padding={0}\n      >\n        <IconWrapper disabled={!canUndo} onClick={openPopover}>\n          <MdReplay />\n        </IconWrapper>\n      </Popover>\n\n      <IconWrapper disabled={!canRedo}>\n        <MdRedo onClick={redo} />\n      </IconWrapper>\n    </Container>\n  );\n};\n","import styled, {\n  createGlobalStyle,\n  DefaultTheme,\n  GlobalStyleComponent,\n  StyledComponent,\n} from 'styled-components';\nimport { FELT_GREEN } from '../../constants/colors';\n\nconst SPACING: number = 1;\n\nexport const Felt: StyledComponent<'div', {}> = styled.div`\n  background-color: ${FELT_GREEN};\n  box-shadow: inset 0 0 10rem black;\n  display: grid;\n  height: calc(100vh - ${SPACING + SPACING}rem);\n  padding: ${SPACING}rem;\n`;\n\nexport const Grid: StyledComponent<'div', {}> = styled.div`\n  display: grid;\n  grid-template: 1fr auto auto / 1fr;\n  grid-template-areas:\n    'scoreboard'\n    'toolbar'\n    'keypad';\n  overflow: auto;\n\n  @media screen and (orientation: landscape) {\n    column-gap: ${SPACING}rem;\n    grid-template: 1fr auto / 2fr 1fr;\n    grid-template-areas:\n      'scoreboard keypad'\n      'scoreboard toolbar';\n  }\n`;\n\nexport const GlobalStyle: GlobalStyleComponent<\n  {},\n  DefaultTheme\n> = createGlobalStyle`\n  * {\n    font-family: 'Roboto', sans-serif;\n    }\n  \n  body {\n    background-color: #000;\n    overscroll-behavior: contain;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n`;\n","/* tslint:disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import 'normalize.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'typeface-roboto';\nimport { App } from './components/app';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootElement: HTMLElement | null = document.getElementById('root');\n\nReactDOM.render(<App />, rootElement);\n\nif (module.hot) {\n  module.hot.accept('./components/app', async () => {\n    const { App: NextApp } = await import('./components/app');\n    ReactDOM.render(<NextApp />, rootElement);\n  });\n}\n\n/*\nIf you want your app to work offline and load faster, you can change\nunregister() to register() below. Note this comes with some pitfalls.\nLearn more about service workers: http://bit.ly/CRA-PWA\n*/\nserviceWorker.register();\n","import last from 'lodash.last';\nimport React, {\n  FunctionComponent,\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react';\nimport { MAXIMUM_POINTS } from '../../constants/game';\nimport { Keypad } from '../keypad';\nimport { Scoreboard } from '../scoreboard';\nimport { Toolbar } from '../toolbar';\nimport { Felt, GlobalStyle, Grid } from './styles';\nimport { Game, IResult, ISet, Phases, Score, Team } from './types';\n\nexport const App: FunctionComponent = (): ReactElement => {\n  const [teams] = useState<Team[]>(['vi', 'de']);\n  const [game, setGame] = useState<Game>(() => {\n    const storedGame: string | null = localStorage.getItem('game');\n    if (storedGame !== null) {\n      return JSON.parse(storedGame) as Game;\n    }\n\n    return [];\n  });\n  const currentSet: ISet | undefined = last(game);\n\n  const getNextPhase: () => Phases = (): Phases => {\n    if (currentSet && !currentSet.score) {\n      return Phases.Score;\n    }\n\n    return Phases.Bidding;\n  };\n  const [phase, setPhase] = useState(getNextPhase);\n\n  const [redoHistory, setRedoHistory] = useState<Game[] | []>(() => {\n    const storedRedoHistory: string | null = localStorage.getItem(\n      'redoHistory',\n    );\n    if (storedRedoHistory !== null) {\n      return JSON.parse(storedRedoHistory) as Game[];\n    }\n\n    return [];\n  });\n\n  useEffect(() => {\n    setPhase(getNextPhase);\n    localStorage.setItem('game', JSON.stringify(game));\n  }, [game]);\n\n  useEffect(() => {\n    localStorage.setItem('redoHistory', JSON.stringify(redoHistory));\n  }, [redoHistory]);\n\n  const updateBid: (bid: IResult) => void = (bid: IResult): void => {\n    const nextRound: number = currentSet ? currentSet.round + 1 : 1;\n    setGame([...game, { bid, round: nextRound }]);\n\n    if (redoHistory.length > 0) {\n      setRedoHistory([]);\n    }\n  };\n\n  const updateScore: (winner: IResult) => void = (winner: IResult): void => {\n    if (!currentSet) return;\n    const { bid } = currentSet;\n    const { points: biddingPoints, team: biddingTeam } = bid;\n\n    const score: Score = teams.reduce(\n      (result: Score, team: Team) => {\n        result[team] =\n          team === winner.team ? winner.points : MAXIMUM_POINTS - winner.points;\n\n        if (team === biddingTeam && result[team] < biddingPoints) {\n          result[team] = -biddingPoints;\n        }\n\n        return result;\n      },\n      {} as Score, // tslint:disable-line: no-object-literal-type-assertion\n    );\n\n    setGame([...game.slice(0, -1), { ...currentSet, score }]);\n\n    if (redoHistory.length > 0) {\n      setRedoHistory([]);\n    }\n  };\n\n  const undo: () => void = (): void => {\n    if (!currentSet) return;\n\n    if (phase === Phases.Bidding) {\n      setGame([...game.slice(0, -1), { ...currentSet, score: undefined }]);\n    } else if (phase === Phases.Score) {\n      setGame([...game.slice(0, -1)]);\n    }\n\n    setRedoHistory([...redoHistory, game]);\n  };\n\n  const redo: () => void = (): void => {\n    const nextGameState: Game | undefined = last(redoHistory);\n    if (!nextGameState) return;\n\n    setGame(nextGameState);\n    setRedoHistory(redoHistory.slice(0, -1));\n  };\n\n  const resetScore: () => void = (): void => {\n    setGame([]);\n\n    if (redoHistory.length > 0) {\n      setRedoHistory([]);\n    }\n  };\n\n  const updateSet: (result: IResult) => void =\n    phase === Phases.Bidding ? updateBid : updateScore;\n\n  const canRedo: boolean = redoHistory.length > 0;\n  const canUndo: boolean = game.length > 0;\n\n  return (\n    <>\n      <GlobalStyle />\n      <Felt>\n        <Grid>\n          <Scoreboard game={game} teams={teams} />\n          <Toolbar\n            canRedo={canRedo}\n            canUndo={canUndo}\n            redo={redo}\n            resetScore={resetScore}\n            undo={undo}\n          />\n          <Keypad phase={phase} teams={teams} updateSet={updateSet} />\n        </Grid>\n      </Felt>\n    </>\n  );\n};\n"],"sourceRoot":""}