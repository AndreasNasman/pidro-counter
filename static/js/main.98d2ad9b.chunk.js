(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,n,t){e.exports=t(35)},35:function(e,n,t){"use strict";t.r(n);t(19),t(22),t(23);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),i=(t(29),t(9)),u=t(5),l=t(3),s=t(4),f=t.n(s),d="game",m="gameHistory",b="gameHistoryIndex",p=t(14),g=t.n(p),v=t(1),O=t(2);function j(){var e=Object(v.a)(["\n  column-gap: ","rem;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  margin-bottom: ","rem;\n"]);return j=function(){return e},e}function h(){var e=Object(v.a)(["\n  margin-bottom: 0.5rem;\n  margin-top: 0;\n  min-width: ",";\n"]);return h=function(){return e},e}function E(){var e=Object(v.a)(["\n  align-content: center;\n  display: grid;\n  grid-area: keypad;\n  min-width: max-content;\n"]);return E=function(){return e},e}function w(){var e=Object(v.a)(["\n  display: grid;\n  grid-gap: ","rem;\n  grid-template-columns: repeat(3, 1fr);\n"]);return w=function(){return e},e}function y(){var e=Object(v.a)(["\n  background-color: ",";\n  border: 0.25rem solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  font-size: 1.5rem;\n  font-weight: bold;\n  padding: 0.5rem;\n  text-transform: uppercase;\n\n  &:focus {\n    outline: none;\n  }\n"]);return y=function(){return e},e}function k(){var e=Object(v.a)(["\n  color: ",";\n  text-align: center;\n"]);return k=function(){return e},e}var S=O.b.h2(k(),"#fff"),C=O.b.button(y(),function(e){return e.active?"#fff":"transparent"},"#fff",function(e){return e.active?e.activeColor:"#fff"}),x=O.b.div(w(),.1),R=O.b.div(E()),I=S,N=Object(O.b)(S)(h(),function(e){return e.minWidth}),B=O.b.div(j(),.1,.1),W={BIDDING:"Vem bj\xf6ud?",SCORE:"Vem fick h\xf6gst po\xe4ng?"},H=function(e){var n=e.phase,t=e.teams,o=e.updateSet,c=e.winner,i=Object(r.useState)(g()(6,15)),s=Object(l.a)(i,1)[0],f=Object(r.useState)(void 0),d=Object(l.a)(f,2),m=d[0],b=d[1],p=Object(r.useState)(void 0),v=Object(l.a)(p,2),O=v[0],j=v[1],h=Object(r.useState)("0"),E=Object(l.a)(h,2),w=E[0],y=E[1];Object(r.useEffect)(function(){void 0!==m&&void 0!==O&&(o({points:O,team:m}),b(void 0),j(void 0))},[m,O]),Object(r.useEffect)(function(){var e=Math.max.apply(Math,Object(u.a)(Object.values(W).map(function(e){return e.replace(/\s/g,"").length})));y("".concat(e,"ch"))},[]);var k=function(e){var n=e.currentTarget.textContent;b(n)},S=function(e){var n=e.currentTarget.textContent,t=Number(n);j(t)};return a.a.createElement(R,null,c?a.a.createElement(I,null,c.team," vann!"):a.a.createElement(a.a.Fragment,null,a.a.createElement(N,{minWidth:w},W[n]),a.a.createElement(B,null,t.map(function(e){return a.a.createElement(C,{active:e===m,activeColor:"#000",key:e,onClick:k},e)})),a.a.createElement(x,null,s.map(function(e){return a.a.createElement(C,{active:e===O,activeColor:"#ff534f",key:e,onClick:S},e)}))))};function J(){var e=Object(v.a)(["\n  background-color: ",";\n  display: grid;\n  grid-area: scoreboard;\n  grid-template-rows: auto 1fr auto;\n  min-height: ",";\n  min-width: max-content;\n"]);return J=function(){return e},e}function A(){var e=Object(v.a)(["\n  border-bottom: 0.2rem solid ",";\n  font-weight: bold;\n"]);return A=function(){return e},e}function D(){var e=Object(v.a)(["\n  border-top: 0.2rem solid ",";\n  font-weight: bold;\n"]);return D=function(){return e},e}function U(){var e=Object(v.a)(["\n  grid-area: emoji;\n"]);return U=function(){return e},e}function V(){var e=Object(v.a)(["\n  grid-area: content;\n"]);return V=function(){return e},e}function M(){var e=Object(v.a)(["\n  background-color: ",";\n"]);return M=function(){return e},e}function T(){var e=Object(v.a)(["\n  color: ",";\n  display: grid;\n  font-size: 1.25rem;\n  grid-column-gap: 0.25rem;\n  grid-template-areas: ",";\n  grid-template-columns: repeat(3, 1fr);\n  text-align: center;\n  padding: 0.5rem;\n  text-transform: uppercase;\n"]);return T=function(){return e},e}function z(){var e=Object(v.a)(["\n  overflow: auto;\n"]);return z=function(){return e},e}function L(){var e=Object(v.a)(["\n  column-gap: 0.1rem;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n"]);return L=function(){return e},e}var F=O.b.div(L()),G=Object(O.b)(F)(z()),P=O.b.div(T(),"#fefeff",function(e){return!0===e.reverse?'"emoji content ."':'". content emoji"'}),$=O.b.div(M(),"#282828"),q=O.b.div(V()),K=O.b.span(U()),Q=Object(O.b)(F)(D(),"#fefeff"),X=Object(O.b)(F)(A(),"#fefeff"),Y=O.b.div(J(),"#fefeff",function(e){return e.scoreboardMinHeight}),Z=function(e){var n=e.game,t=Object(r.useState)("0"),o=Object(l.a)(t,2),c=o[0],i=o[1],u=Object(r.useRef)(null),s=Object(r.useRef)(null),d=Object(r.useRef)(null),m=Object(r.useRef)(null);return Object(r.useEffect)(function(){var e=u.current;null!==e&&e.scrollIntoView({behavior:"smooth",block:"end"})}),Object(r.useLayoutEffect)(function(){var e=s.current,n=d.current,t=m.current;if(null!==e&&null!==n&&null!==t){var r="".concat(e.offsetHeight+n.offsetHeight+t.offsetHeight,"px");i(r)}},[]),a.a.createElement(Y,{scoreboardMinHeight:c},a.a.createElement(X,{ref:s},n.teams.map(function(e){return a.a.createElement($,{key:e},a.a.createElement(P,{reverse:e===f()(n.teams)},a.a.createElement(q,null,e),n.leader===e&&a.a.createElement(K,null,"\ud83c\udfc1")))})),a.a.createElement(G,null,n.teams.map(function(e,t){return a.a.createElement($,{key:e,ref:u},n.sets.map(function(n){return a.a.createElement(P,{key:n.round},!n.score&&n.bid.team===e&&a.a.createElement(q,null,"(",n.bid.points,")"),n.score&&a.a.createElement(q,null,n.score[t].points))}))})),a.a.createElement(Q,{ref:d},n.score.map(function(e){return a.a.createElement($,{key:e.team},a.a.createElement(P,{ref:m,reverse:e.team===f()(n.teams)},a.a.createElement(q,null,e.points),void 0!==n.winner&&n.winner.team===e.team&&a.a.createElement(K,null,"\ud83c\udfc6")))})))},_=t(8),ee=t(12),ne=t.n(ee);function te(){var e=Object(v.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  padding: 0.5rem;\n  pointer-events: ",";\n"]);return te=function(){return e},e}function re(){var e=Object(v.a)(["\n  margin-top: 0;\n  text-align: center;\n"]);return re=function(){return e},e}function ae(){var e=Object(v.a)(["\n  display: flex;\n  font-size: 1.5rem;\n  grid-area: toolbar;\n  justify-content: space-between;\n"]);return ae=function(){return e},e}function oe(){var e=Object(v.a)(["\n  background-color: white;\n  border-radius: 0.5rem;\n  padding: 1rem;\n"]);return oe=function(){return e},e}function ce(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return ce=function(){return e},e}function ie(){var e=Object(v.a)(["\n  color: ",";\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.5rem;\n"]);return ie=function(){return e},e}var ue=O.b.span(ie(),function(e){return e.color}),le=O.b.div(ce()),se=O.b.div(oe()),fe=O.b.div(ae()),de=O.b.h4(re()),me=O.b.span(te(),function(e){return e.disabled?"gray":"#fefeff"},function(e){return e.disabled?"none":"auto"}),be=function(e){var n=e.canRedo,t=e.canResetScore,o=e.canUndo,c=e.redo,i=e.resetScore,u=e.undo,s=Object(r.useState)(!1),f=Object(l.a)(s,2),d=f[0],m=f[1],b=function(){m(!1)},p=function(){b(),i()};return a.a.createElement(fe,null,a.a.createElement(me,{disabled:!o},a.a.createElement(_.c,{onClick:u})),a.a.createElement(ne.a,{content:function(e){var n=e.position,t=e.targetRect,r=e.popoverRect;return a.a.createElement(ee.ArrowContainer,{arrowColor:"#fff",popoverRect:r,position:n,targetRect:t},a.a.createElement(se,null,a.a.createElement(de,null,"Vill du byri nyi spel?"),a.a.createElement(le,null,a.a.createElement(ue,{color:"#12257d",onClick:p},"Jepp"),a.a.createElement(ue,{color:"#ea3f42",onClick:b},"Nepp"))))},isOpen:d,onClickOutside:b,padding:0},a.a.createElement(me,{disabled:!t,onClick:function(){m(!0)}},a.a.createElement(_.b,null))),a.a.createElement(me,{disabled:!n},a.a.createElement(_.a,{onClick:c})))};function pe(){var e=Object(v.a)(["\n  * {\n    font-family: 'Roboto', sans-serif;\n    }\n  \n  body {\n    background-color: #000;\n    overscroll-behavior: contain;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n"]);return pe=function(){return e},e}function ge(){var e=Object(v.a)(["\n  display: grid;\n  grid-template: 1fr repeat(2, auto) / 1fr;\n  grid-template-areas:\n    'scoreboard'\n    'toolbar'\n    'keypad';\n  overflow: auto;\n\n  @media screen and (orientation: landscape) {\n    column-gap: ","rem;\n    grid-template: 1fr auto / 2fr 1fr;\n    grid-template-areas:\n      'scoreboard keypad'\n      'scoreboard toolbar';\n  }\n"]);return ge=function(){return e},e}function ve(){var e=Object(v.a)(["\n  background-color: ",";\n  box-shadow: inset 0 0 10rem black;\n  display: grid;\n  height: calc(100vh - ","rem);\n  padding: ","rem;\n"]);return ve=function(){return e},e}var Oe,je=O.b.div(ve(),"#006e3b",2,1),he=O.b.div(ge(),1),Ee=Object(O.a)(pe());!function(e){e.Bidding="BIDDING",e.Score="SCORE"}(Oe||(Oe={}));var we=function(){var e=["VI","DE"],n=e.map(function(e){return{points:0,team:e}});return{phase:Oe.Bidding,score:n,sets:[],teams:e}},ye=function(e,n){var t=sessionStorage.getItem(e);return null!==t?JSON.parse(t):n},ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Se(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ce=document.getElementById("root");c.a.render(a.a.createElement(function(){var e=Object(r.useState)(ye(d,we())),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(ye(m,[we()])),s=Object(l.a)(c,2),p=s[0],g=s[1],v=Object(r.useState)(ye(b,0)),O=Object(l.a)(v,2),j=O[0],h=O[1];Object(r.useEffect)(function(){sessionStorage.setItem(d,JSON.stringify(t))},[t]),Object(r.useEffect)(function(){sessionStorage.setItem(m,JSON.stringify(p))},[p]),Object(r.useEffect)(function(){sessionStorage.setItem(b,JSON.stringify(j))},[j]);var E=function(){return t.phase===Oe.Bidding?Oe.Score:Oe.Bidding},w=function(e){var n=j+1;g([].concat(Object(u.a)(p.slice(0,n)),[e])),h(n)},y=j>0,k=j<p.length-1,S=p.length>1,C=t.phase===Oe.Bidding?function(e){var n=f()(t.sets),r=n?n.round+1:1,a=Object(i.a)({},t,{phase:E(),sets:[].concat(Object(u.a)(t.sets),[{bid:e,round:r}])});o(a),w(a)}:function(e){var n=f()(t.sets);if(n){var r,a=n.bid,c=a.points,s=a.team,d=t.teams.map(function(n){var t=n===e.team?e.points:14-e.points;return n===s&&t<c&&(t=-c),{points:t,team:n}}),m=t.teams.map(function(e,n){return{points:t.score[n].points+d[n].points,team:e}}),b=m.find(function(e){return e.team===a.team&&e.points>=62});if(b||(b=m.find(function(e){return e.points>=62})),!b){var p=Object(l.a)(m,2),g=p[0],v=p[1];g.points>v.points&&(r=g.team),v.points>g.points&&(r=v.team)}var O=Object(i.a)({},t,{leader:r,phase:E(),score:m,sets:[].concat(Object(u.a)(t.sets.slice(0,-1)),[Object(i.a)({},n,{score:d})]),winner:b});o(O),w(O)}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,null),a.a.createElement(je,null,a.a.createElement(he,null,a.a.createElement(Z,{game:t}),a.a.createElement(be,{canRedo:k,canResetScore:S,canUndo:y,redo:function(){var e=j+1;o(p[e]),h(e)},resetScore:function(){o(we()),g([we()]),h(0)},undo:function(){var e=j-1;o(p[e]),h(e)}}),a.a.createElement(H,{phase:t.phase,teams:t.teams,updateSet:C,winner:t.winner}))))},null),Ce),function(e){if("serviceWorker"in navigator){if(new URL("/pidro-counter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/pidro-counter","/service-worker.js");ke?(function(e,n){fetch(e).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Se(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Se(n,e)})}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.98d2ad9b.chunk.js.map