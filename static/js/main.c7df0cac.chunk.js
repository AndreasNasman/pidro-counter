(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,n,t){e.exports=t(34)},34:function(e,n,t){"use strict";t.r(n);t(18),t(21),t(22);var r,o=t(0),a=t.n(o),c=t(5),i=t.n(c),u=(t(28),t(12)),l=t(4),f=t(3),d=t(8),s=t.n(d);!function(e){e[e.Bidding=0]="Bidding",e[e.Score=1]="Score"}(r||(r={}));var b=t(1),m=t(2);function g(){var e=Object(b.a)(["\n  column-gap: ","rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  margin-bottom: ","rem;\n"]);return g=function(){return e},e}function v(){var e=Object(b.a)(["\n  align-content: center;\n  display: grid;\n  grid-area: keypad;\n  min-width: max-content;\n"]);return v=function(){return e},e}function p(){var e=Object(b.a)(["\n  color: ",";\n  margin-bottom: 0.5rem;\n  margin-top: 0;\n  text-align: center;\n"]);return p=function(){return e},e}function O(){var e=Object(b.a)(["\n  display: grid;\n  grid-gap: ","rem;\n  grid-template-columns: 1fr 1fr 1fr;\n"]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n  background-color: ",";\n  border: 0.25rem solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  font-size: 1.5rem;\n  font-weight: bold;\n  padding: 0.5rem;\n  text-transform: uppercase;\n\n  &:focus {\n    outline: none;\n  }\n"]);return j=function(){return e},e}var h=m.b.button(j(),function(e){return e.active?"#fff":"transparent"},"#fff",function(e){return e.active?e.activeColor:"#fff"}),E=m.b.div(O(),.1),w=m.b.h2(p(),"#fff"),y=m.b.div(v()),k=m.b.div(g(),.1,.1),S=function(e){var n=e.phase,t=e.teams,c=e.updateSet,i=Object(o.useState)(function(){return Array.from(Array(9).keys()).map(function(e){return e+6})}),u=Object(f.a)(i,1)[0],l=Object(o.useState)(void 0),d=Object(f.a)(l,2),s=d[0],b=d[1],m=Object(o.useState)(void 0),g=Object(f.a)(m,2),v=g[0],p=g[1];Object(o.useEffect)(function(){void 0!==s&&void 0!==v&&(c({points:v,team:s}),b(void 0),p(void 0))},[s,v]);var O=function(e){var n=e.currentTarget.textContent;n!==s&&b(n)},j=function(e){var n=e.currentTarget.textContent,t=Number(n);t!==v&&p(t)};return a.a.createElement(y,null,n===r.Bidding?a.a.createElement(w,null,"Vem bj\xf6ud?"):a.a.createElement(w,null,"Vem vann?"),a.a.createElement(k,null,t.map(function(e){return a.a.createElement(h,{active:e===s,activeColor:"#000",key:e,onClick:O},e)})),a.a.createElement(E,null,u.map(function(e){return a.a.createElement(h,{active:e===v,activeColor:"#ff534f",key:e,onClick:j},e)})))};function C(){var e=Object(b.a)(["\n  background-color: ",";\n  display: grid;\n  grid-area: scoreboard;\n  grid-template-rows: auto 1fr auto;\n  min-height: ",";\n  min-width: max-content;\n"]);return C=function(){return e},e}function x(){var e=Object(b.a)(["\n  border-bottom: 0.2rem solid ",";\n  font-weight: bold;\n"]);return x=function(){return e},e}function R(){var e=Object(b.a)(["\n  border-top: 0.2rem solid ",";\n  font-weight: bold;\n"]);return R=function(){return e},e}function A(){var e=Object(b.a)(["\n  background-color: ",";\n"]);return A=function(){return e},e}function B(){var e=Object(b.a)(["\n  color: ",";\n  font-size: 1.25rem;\n  text-align: center;\n  padding: 0.5rem;\n  text-transform: uppercase;\n"]);return B=function(){return e},e}function N(){var e=Object(b.a)(["\n  overflow: auto;\n"]);return N=function(){return e},e}function H(){var e=Object(b.a)(["\n  column-gap: 0.1rem;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n"]);return H=function(){return e},e}var J=m.b.div(H()),W=Object(m.b)(J)(N()),I=m.b.div(B(),"#fefeff"),U=m.b.div(A(),"#282828"),T=Object(m.b)(J)(R(),"#fefeff"),V=Object(m.b)(J)(x(),"#fefeff"),z=m.b.div(C(),"#fefeff",function(e){return e.scoreboardMinHeight}),L=function(e){var n=e.game,t=e.teams,r=Object(o.useState)("0"),c=Object(f.a)(r,2),i=c[0],u=c[1],l=Object(o.useRef)(null),d=Object(o.useRef)(null),s=Object(o.useRef)(null),b=Object(o.useRef)(null);return Object(o.useEffect)(function(){var e=l.current;null!==e&&e.scrollIntoView({behavior:"smooth",block:"end"})},[n.length]),Object(o.useLayoutEffect)(function(){var e=d.current,n=s.current,t=b.current;if(null!==e&&null!==n&&null!==t){var r="".concat(e.offsetHeight+n.offsetHeight+t.offsetHeight,"px");u(r)}},[]),a.a.createElement(z,{scoreboardMinHeight:i},a.a.createElement(V,{ref:d},t.map(function(e){return a.a.createElement(U,{key:e},a.a.createElement(I,null,e))})),a.a.createElement(W,null,t.map(function(e){return a.a.createElement(U,{key:e,ref:l},n.map(function(n){return n.score&&a.a.createElement(I,{key:n.round},n.score[e])}))})),a.a.createElement(T,{ref:s},t.map(function(e){return a.a.createElement(U,{key:e},a.a.createElement(I,{ref:b},n.reduce(function(n,t){return t.score?n+t.score[e]:n},0)))})))},M=t(7),P=t(11),F=t.n(P);function $(){var e=Object(b.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  padding: 0.5rem;\n  pointer-events: ",";\n"]);return $=function(){return e},e}function q(){var e=Object(b.a)(["\n  margin-top: 0;\n  text-align: center;\n"]);return q=function(){return e},e}function D(){var e=Object(b.a)(["\n  display: flex;\n  font-size: 1.5rem;\n  grid-area: toolbar;\n  justify-content: space-between;\n"]);return D=function(){return e},e}function G(){var e=Object(b.a)(["\n  background-color: white;\n  border-radius: 0.5rem;\n  padding: 1rem;\n"]);return G=function(){return e},e}function K(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return K=function(){return e},e}function Q(){var e=Object(b.a)(["\n  color: ",";\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.5rem;\n"]);return Q=function(){return e},e}var X=m.b.span(Q(),function(e){return e.color}),Y=m.b.div(K()),Z=m.b.div(G()),_=m.b.div(D()),ee=m.b.h4(q()),ne=m.b.span($(),function(e){return e.disabled?"gray":"#fefeff"},function(e){return e.disabled?"none":"auto"}),te=function(e){var n=e.canRedo,t=e.canUndo,r=e.redo,c=e.resetScore,i=e.undo,u=Object(o.useState)(!1),l=Object(f.a)(u,2),d=l[0],s=l[1],b=function(){s(!1)},m=function(){b(),c()};return a.a.createElement(_,null,a.a.createElement(ne,{disabled:!t},a.a.createElement(M.c,{onClick:i})),a.a.createElement(F.a,{content:function(e){var n=e.position,t=e.targetRect,r=e.popoverRect;return a.a.createElement(P.ArrowContainer,{arrowColor:"#fff",popoverRect:r,position:n,targetRect:t},a.a.createElement(Z,null,a.a.createElement(ee,null,"Vill du byri nyi spel?"),a.a.createElement(Y,null,a.a.createElement(X,{color:"#12257d",onClick:m},"Jepp"),a.a.createElement(X,{color:"#ea3f42",onClick:b},"Nepp"))))},isOpen:d,onClickOutside:b,padding:0},a.a.createElement(ne,{disabled:!t,onClick:function(){s(!0)}},a.a.createElement(M.b,null))),a.a.createElement(ne,{disabled:!n},a.a.createElement(M.a,{onClick:r})))};function re(){var e=Object(b.a)(["\n  * {\n    font-family: 'Roboto', sans-serif;\n    }\n  \n  body {\n    background-color: #000;\n    overscroll-behavior: contain;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n"]);return re=function(){return e},e}function oe(){var e=Object(b.a)(["\n  display: grid;\n  grid-template: 1fr auto auto / 1fr;\n  grid-template-areas:\n    'scoreboard'\n    'toolbar'\n    'keypad';\n  overflow: auto;\n\n  @media screen and (orientation: landscape) {\n    column-gap: ","rem;\n    grid-template: 1fr auto / 2fr 1fr;\n    grid-template-areas:\n      'scoreboard keypad'\n      'scoreboard toolbar';\n  }\n"]);return oe=function(){return e},e}function ae(){var e=Object(b.a)(["\n  background-color: ",";\n  box-shadow: inset 0 0 10rem black;\n  display: grid;\n  height: calc(100vh - ","rem);\n  padding: ","rem;\n"]);return ae=function(){return e},e}var ce=m.b.div(ae(),"#006e3b",2,1),ie=m.b.div(oe(),1),ue=Object(m.a)(re()),le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var de=document.getElementById("root");i.a.render(a.a.createElement(function(){var e=Object(o.useState)(["vi","de"]),n=Object(f.a)(e,1)[0],t=Object(o.useState)(function(){var e=localStorage.getItem("game");return null!==e?JSON.parse(e):[]}),c=Object(f.a)(t,2),i=c[0],d=c[1],b=s()(i),m=function(){return b&&!b.score?r.Score:r.Bidding},g=Object(o.useState)(m),v=Object(f.a)(g,2),p=v[0],O=v[1],j=Object(o.useState)(function(){var e=localStorage.getItem("redoHistory");return null!==e?JSON.parse(e):[]}),h=Object(f.a)(j,2),E=h[0],w=h[1];Object(o.useEffect)(function(){O(m),localStorage.setItem("game",JSON.stringify(i))},[i]),Object(o.useEffect)(function(){localStorage.setItem("redoHistory",JSON.stringify(E))},[E]);var y=p===r.Bidding?function(e){var n=b?b.round+1:1;d([].concat(Object(l.a)(i),[{bid:e,round:n}])),E.length>0&&w([])}:function(e){if(b){var t=b.bid,r=t.points,o=t.team,a=n.reduce(function(n,t){return n[t]=t===e.team?e.points:14-e.points,t===o&&n[t]<r&&(n[t]=-r),n},{});d([].concat(Object(l.a)(i.slice(0,-1)),[Object(u.a)({},b,{score:a})])),E.length>0&&w([])}},k=E.length>0,C=i.length>0;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ue,null),a.a.createElement(ce,null,a.a.createElement(ie,null,a.a.createElement(L,{game:i,teams:n}),a.a.createElement(te,{canRedo:k,canUndo:C,redo:function(){var e=s()(E);e&&(d(e),w(E.slice(0,-1)))},resetScore:function(){d([]),E.length>0&&w([])},undo:function(){b&&(p===r.Bidding?d([].concat(Object(l.a)(i.slice(0,-1)),[Object(u.a)({},b,{score:void 0})])):p===r.Score&&d(Object(l.a)(i.slice(0,-1))),w([].concat(Object(l.a)(E),[i])))}}),a.a.createElement(S,{phase:p,teams:n,updateSet:y}))))},null),de),function(e){if("serviceWorker"in navigator){if(new URL("/pidro-counter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/pidro-counter","/service-worker.js");le?(function(e,n){fetch(e).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):fe(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):fe(n,e)})}}()}},[[17,1,2]]]);
//# sourceMappingURL=main.c7df0cac.chunk.js.map