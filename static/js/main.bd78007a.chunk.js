(this["webpackJsonppidro-counter"]=this["webpackJsonppidro-counter"]||[]).push([[0],[,function(e,t,a){e.exports={blackBoard:"#282828",chalkWhite:"#fefeff",body:"Scoreboard_body__3zfKJ",cell:"Scoreboard_cell__3ySS7",foot:"Scoreboard_foot__1_iyE",head:"Scoreboard_head__2GDNu",table:"Scoreboard_table__1ccUY",reverse:"Scoreboard_reverse__2CUIQ",column:"Scoreboard_column__1vt1y",content:"Scoreboard_content__166Op",emoji:"Scoreboard_emoji__326X1"}},,,,,function(e,t,a){e.exports={playingCardBlack:"#000",playingCardRed:"#ff534f",playingCardWhite:"#fff",duration:"0.3s",button:"Button_button__2xxUv",black:"Button_black__299D5",red:"Button_red__eABqk"}},function(e,t,a){e.exports={chalkWhite:"#fefeff",container:"Toolbar_container___LzHb",iconWrapper:"Toolbar_iconWrapper__6mJ3y",disabled:"Toolbar_disabled__3zohK"}},function(e,t,a){e.exports={buttonGap:"0.1rem",container:"Keypad_container__1L2sv",number:"Keypad_number__1V1sq",team:"Keypad_team__1zdyF"}},,function(e,t,a){e.exports={feltGreen:"#006e3b",spacing:"1rem",felt:"App_felt__OzMyW",grid:"App_grid__AtUjj"}},,,,,function(e,t,a){e.exports=a(24)},function(e,t,a){},,,,,,,,function(e,t,a){"use strict";a.r(t);a(16),a(17),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(5),r=a(0),c=a.n(r),o=a(9),s=a(2),i=["us","they"],l=function(e,t){return t<e.length-1},u=function(e){return e>0},d=a(3);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={rounds:[],score:{they:0,us:0}},p={canRedo:!1,canUndo:!1,game:f,history:[f],historyIndex:0,phase:"bid"},y=function(e,t){switch(t.type){case"ADD_BID":return b({},e,{game:b({},e.game,{rounds:[].concat(Object(o.a)(e.game.rounds),[{bid:t.bid}])}),phase:"result"});case"ADD_RESULT":return b({},e,{game:{rounds:[].concat(Object(o.a)(Object(d.dropRight)(e.game.rounds)),[b({},Object(d.last)(e.game.rounds),{result:t.result})]),score:(c=e.game.score,s=t.result,{they:c.they+s.they,us:c.us+s.us})},phase:"bid"});case"CHECK_TOOLBAR":return b({},e,{canRedo:l(e.history,e.historyIndex),canUndo:u(e.historyIndex)});case"TRAVERSE_HISTORY":var a=e.historyIndex+t.step;return b({},e,{game:e.history[a],historyIndex:a,phase:(r=e.phase,"bid"===r?"result":"bid")});case"UPDATE_HISTORY":var n=e.historyIndex+1;return b({},e,{history:[].concat(Object(o.a)(Object(d.dropRight)(e.history,e.history.length-n)),[e.game]),historyIndex:n});default:throw new Error}var r,c,s},_=a(6),O=a.n(_),E=1e3*parseFloat(O.a.duration)+200,h=Object(d.range)(6,15);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={activeNumber:null,activeTeam:null,disableButtons:!1},R=function(e,t){switch(t.type){case"DISABLE_BUTTONS":return j({},e,{disableButtons:!1});case"RESET":return g;case"SET_ACTIVE_NUMBER":return j({},e,{activeNumber:t.number===e.activeNumber?null:t.number});case"SET_ACTIVE_TEAM":return j({},e,{activeTeam:t.team===e.activeTeam?null:t.team});default:throw new Error}},T=a(4),S=a.n(T),N=function(e){var t=e.active,a=e.activeColor,n=e.disabled,r=e.handleClick,o=e.value;return c.a.createElement("button",{className:S()(O.a.button,Object(s.a)({},a,t)),disabled:n,onClick:function(){return r(o)}},o)},C=a(8),k=a.n(C),w=function(e){var t=e.updateRound,a=Object(r.useReducer)(R,g),o=Object(n.a)(a,2),s=o[0],l=s.activeTeam,u=s.activeNumber,d=s.disableButtons,m=o[1],b=function(e,a){m({type:"DISABLE_BUTTONS"}),setTimeout((function(){t({points:e,team:a}),m({type:"RESET"})}),E)},f=function(e){m({team:e,type:"SET_ACTIVE_TEAM"}),u&&b(u,e)},p=function(e){m({number:e,type:"SET_ACTIVE_NUMBER"}),l&&b(e,l)};return c.a.createElement("div",{className:k.a.container},c.a.createElement("div",{className:k.a.team},i.map((function(e){return c.a.createElement(N,{active:e===l,activeColor:O.a.black,disabled:d,handleClick:f,key:e,value:e})}))),c.a.createElement("div",{className:k.a.number},h.map((function(e){return c.a.createElement(N,{active:e===u,activeColor:O.a.red,disabled:d,handleClick:p,key:e,value:e})}))))},A=a(1),D=a.n(A),B=function(e){var t=e.rounds,a=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=a.current;e&&e.scrollIntoView({behavior:"smooth",block:"end"})})),c.a.createElement("div",{className:D.a.body},i.map((function(e){return c.a.createElement("div",{className:D.a.column,key:e,ref:a},t.map((function(t,a){return c.a.createElement("div",{className:S()(D.a.cell,Object(s.a)({},D.a.reverse,Object(d.last)(i)===e)),key:a},!t.result&&t.bid&&t.bid.team===e&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:D.a.content},t.bid.points),c.a.createElement("span",{"aria-label":"Megaphone",className:D.a.emoji,role:"img"},"\ud83d\udce3")),t.result&&c.a.createElement("div",{className:D.a.content},t.result[e]))})))})))},I=function(e){var t=e.footCellRef,a=e.footRef,n=e.score;return c.a.createElement("div",{className:D.a.foot,ref:a},i.map((function(e){return c.a.createElement("div",{className:D.a.column,key:e},c.a.createElement("div",{className:D.a.cell,ref:t},c.a.createElement("div",{className:D.a.content},n[e])))})))},P=function(e){var t=e.headRef,a=e.score,o=Object(r.useState)(null),l=Object(n.a)(o,2),u=l[0],m=l[1];return Object(r.useEffect)((function(){a.us>a.they?m("us"):a.they>a.us?m("they"):m(null)}),[a.us,a.they]),c.a.createElement("div",{className:D.a.head,ref:t},i.map((function(e){return c.a.createElement("div",{className:D.a.column,key:e},c.a.createElement("div",{className:S()(D.a.cell,Object(s.a)({},D.a.reverse,Object(d.last)(i)===e))},c.a.createElement("div",{className:D.a.content},e),u===e&&c.a.createElement("span",{"aria-label":"Chequered Flag",className:D.a.emoji,role:"img"},"\ud83c\udfc1")))})))},U=function(e){var t=e.game,a=Object(r.useState)(),o=Object(n.a)(a,2),s=o[0],i=o[1],l=Object(r.useRef)(null),u=Object(r.useRef)(null),d=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=l.current,t=u.current,a=d.current;if(null!==e&&null!==t&&null!==a){var n=e.offsetHeight+t.offsetHeight+a.offsetHeight;i(n)}}),[]),c.a.createElement("div",{className:D.a.table,style:{minHeight:s}},c.a.createElement(P,{headRef:l,score:t.score}),c.a.createElement(B,{rounds:t.rounds}),c.a.createElement(I,{footCellRef:d,footRef:u,score:t.score}))},H=a(11),x=a(7),L=a.n(x),K=function(e){var t=e.canRedo,a=e.canUndo,n=e.redo,r=e.undo;return c.a.createElement("div",{className:L.a.container},c.a.createElement("span",{className:S()(L.a.iconWrapper,Object(s.a)({},L.a.disabled,!a))},c.a.createElement(H.b,{onClick:r})),c.a.createElement("span",{className:S()(L.a.iconWrapper,Object(s.a)({},L.a.disabled,!t))},c.a.createElement(H.a,{onClick:n})))},W=a(13),V=a.n(W),Y=a(10),M=a.n(Y),z=a(14),F=a.n(z),J=document.getElementById("root");F.a.render(c.a.createElement((function(){var e=Object(r.useReducer)(y,p),t=Object(n.a)(e,2),a=t[0],o=a.canRedo,i=a.canUndo,l=a.game,u=a.phase,d=t[1];return c.a.createElement("div",{className:M.a.felt},c.a.createElement("div",{className:M.a.grid},c.a.createElement(U,{game:l}),c.a.createElement(K,{canRedo:o,canUndo:i,redo:function(){d({step:1,type:"TRAVERSE_HISTORY"}),d({type:"CHECK_TOOLBAR"})},undo:function(){d({step:-1,type:"TRAVERSE_HISTORY"}),d({type:"CHECK_TOOLBAR"})}}),c.a.createElement(w,{updateRound:"bid"===u?function(e){d({bid:e,type:"ADD_BID"}),d({type:"UPDATE_HISTORY"}),d({type:"CHECK_TOOLBAR"})}:function(e){var t=V()(l.rounds);if(t){var a=t.bid;if(a){var n=function(e,t){var a,n=(a={},Object(s.a)(a,t.team,t.points),Object(s.a)(a,"us"===t.team?"they":"us",14-t.points),a);return n[e.team]<e.points&&(n[e.team]=-e.points),{they:n.they,us:n.us}}(a,e);d({result:n,type:"ADD_RESULT"}),d({type:"UPDATE_HISTORY"}),d({type:"CHECK_TOOLBAR"})}}}})))}),null),J),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[15,1,2]]]);
//# sourceMappingURL=main.bd78007a.chunk.js.map