(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,n,t){e.exports=t(36)},36:function(e,n,t){"use strict";t.r(n);t(20),t(23),t(24);var r=t(0),a=t.n(r),o=t(6),i=t.n(o),c=(t(30),t(9)),u=t(5),l=t(3),s=t(4),f=t.n(s),d=t(14),m=t.n(d),b="game",p="gameHistory",g="gameHistoryIndex",v=t(15),h=t.n(v),O=t(1),j=t(2);function w(){var e=Object(O.a)(["\n  column-gap: ","rem;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  margin-bottom: ","rem;\n"]);return w=function(){return e},e}function E(){var e=Object(O.a)(["\n  margin-bottom: 0.5rem;\n  margin-top: 0;\n  min-width: ",";\n"]);return E=function(){return e},e}function y(){var e=Object(O.a)(["\n  align-content: center;\n  display: grid;\n  grid-area: keypad;\n  min-width: max-content;\n"]);return y=function(){return e},e}function k(){var e=Object(O.a)(["\n  display: grid;\n  grid-gap: ","rem;\n  grid-template-columns: repeat(3, 1fr);\n"]);return k=function(){return e},e}function S(){var e=Object(O.a)(["\n  background-color: ",";\n  border: 0.25rem solid ",";\n  border-radius: 0.5rem;\n  color: ",";\n  font-size: 1.5rem;\n  font-weight: bold;\n  padding: 0.5rem;\n  text-transform: uppercase;\n\n  &:focus {\n    outline: none;\n  }\n"]);return S=function(){return e},e}function C(){var e=Object(O.a)(["\n  color: ",";\n  text-align: center;\n"]);return C=function(){return e},e}var x=j.b.h2(C(),"#fff"),R=j.b.button(S(),function(e){return e.active?"#fff":"transparent"},"#fff",function(e){return e.active?e.activeColor:"#fff"}),I=j.b.div(k(),.1),W=j.b.div(y()),N=x,B=Object(j.b)(x)(E(),function(e){return e.minWidth}),H=j.b.div(w(),.1,.1),J={BIDDING:"Vem bj\xf6ud?",SCORE:"Vem fick h\xf6gst po\xe4ng?"},A=function(e){var n=e.phase,t=e.teams,o=e.updateSet,i=e.winner,c=Object(r.useState)(h()(6,15)),s=Object(l.a)(c,1)[0],f=Object(r.useState)(void 0),d=Object(l.a)(f,2),m=d[0],b=d[1],p=Object(r.useState)(void 0),g=Object(l.a)(p,2),v=g[0],O=g[1],j=Object(r.useState)("0"),w=Object(l.a)(j,2),E=w[0],y=w[1];Object(r.useEffect)(function(){void 0!==m&&void 0!==v&&(o({points:v,team:m}),b(void 0),O(void 0))},[m,v]),Object(r.useEffect)(function(){var e=Math.max.apply(Math,Object(u.a)(Object.values(J).map(function(e){return e.replace(/\s/g,"").length})));y("".concat(e,"ch"))},[]);var k=function(e){var n=e.currentTarget.textContent;b(n)},S=function(e){var n=e.currentTarget.textContent,t=Number(n);O(t)};return a.a.createElement(W,null,i?a.a.createElement(N,null,"\ud83c\udf89 ",i.team," vann! \ud83c\udf89"):a.a.createElement(a.a.Fragment,null,a.a.createElement(B,{minWidth:E},J[n]),a.a.createElement(H,null,t.map(function(e){return a.a.createElement(R,{active:e===m,activeColor:"#000",key:e,onClick:k},e)})),a.a.createElement(I,null,s.map(function(e){return a.a.createElement(R,{active:e===v,activeColor:"#ff534f",key:e,onClick:S},e)}))))};function z(){var e=Object(O.a)(["\n  background-color: ",";\n  display: grid;\n  grid-area: scoreboard;\n  grid-template-rows: auto 1fr auto;\n  min-height: ",";\n  min-width: max-content;\n"]);return z=function(){return e},e}function D(){var e=Object(O.a)(["\n  border-bottom: 0.2rem solid ",";\n  font-weight: bold;\n"]);return D=function(){return e},e}function L(){var e=Object(O.a)(["\n  border-top: 0.2rem solid ",";\n  font-weight: bold;\n"]);return L=function(){return e},e}function U(){var e=Object(O.a)(["\n  grid-area: emoji;\n"]);return U=function(){return e},e}function V(){var e=Object(O.a)(["\n  grid-area: content;\n"]);return V=function(){return e},e}function M(){var e=Object(O.a)(["\n  background-color: ",";\n"]);return M=function(){return e},e}function T(){var e=Object(O.a)(["\n  color: ",";\n  display: grid;\n  font-size: 1.25rem;\n  grid-column-gap: 0.25rem;\n  grid-template-areas: ",";\n  grid-template-columns: repeat(3, 1fr);\n  text-align: center;\n  padding: 0.5rem;\n  text-transform: uppercase;\n"]);return T=function(){return e},e}function F(){var e=Object(O.a)(["\n  overflow: auto;\n"]);return F=function(){return e},e}function G(){var e=Object(O.a)(["\n  column-gap: 0.1rem;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n"]);return G=function(){return e},e}var P=j.b.div(G()),$=Object(j.b)(P)(F()),q=j.b.div(T(),"#fefeff",function(e){return!0===e.reverse?'"emoji content ."':'". content emoji"'}),K=j.b.div(M(),"#282828"),Q=j.b.div(V()),X=j.b.span(U()),Y=Object(j.b)(P)(L(),"#fefeff"),Z=Object(j.b)(P)(D(),"#fefeff"),_=j.b.div(z(),"#fefeff",function(e){return e.scoreboardMinHeight}),ee=function(e){var n=e.game,t=Object(r.useState)("0"),o=Object(l.a)(t,2),i=o[0],c=o[1],u=Object(r.useRef)(null),s=Object(r.useRef)(null),d=Object(r.useRef)(null),m=Object(r.useRef)(null);return Object(r.useEffect)(function(){var e=u.current;null!==e&&e.scrollIntoView({behavior:"smooth",block:"end"})}),Object(r.useLayoutEffect)(function(){var e=s.current,n=d.current,t=m.current;if(null!==e&&null!==n&&null!==t){var r="".concat(e.offsetHeight+n.offsetHeight+t.offsetHeight,"px");c(r)}},[]),a.a.createElement(_,{scoreboardMinHeight:i},a.a.createElement(Z,{ref:s},n.teams.map(function(e){return a.a.createElement(K,{key:e},a.a.createElement(q,{reverse:e===f()(n.teams)},a.a.createElement(Q,null,e),n.leader===e&&a.a.createElement(X,null,"\ud83c\udfc1")))})),a.a.createElement($,null,n.teams.map(function(e,t){return a.a.createElement(K,{key:e,ref:u},n.sets.map(function(n){return a.a.createElement(q,{key:n.round},!n.score&&n.bid.team===e&&a.a.createElement(Q,null,"(",n.bid.points,")"),n.score&&a.a.createElement(Q,null,n.score[t].points))}))})),a.a.createElement(Y,{ref:d},n.score.map(function(e){return a.a.createElement(K,{key:e.team},a.a.createElement(q,{ref:m,reverse:e.team===f()(n.teams)},a.a.createElement(Q,null,e.points),void 0!==n.winner&&n.winner.team===e.team&&a.a.createElement(X,null,"\ud83c\udfc6")))})))},ne=t(8),te=t(12),re=t.n(te);function ae(){var e=Object(O.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  padding: 0.5rem;\n  pointer-events: ",";\n"]);return ae=function(){return e},e}function oe(){var e=Object(O.a)(["\n  margin-top: 0;\n  text-align: center;\n"]);return oe=function(){return e},e}function ie(){var e=Object(O.a)(["\n  display: flex;\n  font-size: 1.5rem;\n  grid-area: toolbar;\n  justify-content: space-between;\n"]);return ie=function(){return e},e}function ce(){var e=Object(O.a)(["\n  background-color: white;\n  border-radius: 0.5rem;\n  padding: 1rem;\n"]);return ce=function(){return e},e}function ue(){var e=Object(O.a)(["\n  display: flex;\n  justify-content: space-around;\n"]);return ue=function(){return e},e}function le(){var e=Object(O.a)(["\n  color: ",";\n  font-weight: bold;\n  text-transform: uppercase;\n  padding: 0.5rem;\n"]);return le=function(){return e},e}var se=j.b.span(le(),function(e){return e.color}),fe=j.b.div(ue()),de=j.b.div(ce()),me=j.b.div(ie()),be=j.b.h4(oe()),pe=j.b.span(ae(),function(e){return e.disabled?"gray":"#fefeff"},function(e){return e.disabled?"none":"auto"}),ge=function(e){var n=e.canRedo,t=e.canResetScore,o=e.canUndo,i=e.redo,c=e.resetScore,u=e.undo,s=Object(r.useState)(!1),f=Object(l.a)(s,2),d=f[0],m=f[1],b=function(){m(!1)},p=function(){b(),c()};return a.a.createElement(me,null,a.a.createElement(pe,{disabled:!o},a.a.createElement(ne.c,{onClick:u})),a.a.createElement(re.a,{content:function(e){var n=e.position,t=e.targetRect,r=e.popoverRect;return a.a.createElement(te.ArrowContainer,{arrowColor:"#fff",popoverRect:r,position:n,targetRect:t},a.a.createElement(de,null,a.a.createElement(be,null,"Vill du byri nyi spel?"),a.a.createElement(fe,null,a.a.createElement(se,{color:"#12257d",onClick:p},"Jepp"),a.a.createElement(se,{color:"#ea3f42",onClick:b},"Nepp"))))},isOpen:d,onClickOutside:b,padding:0},a.a.createElement(pe,{disabled:!t,onClick:function(){m(!0)}},a.a.createElement(ne.b,null))),a.a.createElement(pe,{disabled:!n},a.a.createElement(ne.a,{onClick:i})))};function ve(){var e=Object(O.a)(["\n  * {\n    font-family: 'Roboto', sans-serif;\n    }\n  \n  body {\n    background-color: #000;\n    overscroll-behavior: contain;\n    user-select: none;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-touch-callout: none;\n  }\n"]);return ve=function(){return e},e}function he(){var e=Object(O.a)(["\n  display: grid;\n  grid-template: 1fr repeat(2, auto) / 1fr;\n  grid-template-areas:\n    'scoreboard'\n    'toolbar'\n    'keypad';\n  overflow: auto;\n\n  @media screen and (orientation: landscape) {\n    column-gap: ","rem;\n    grid-template: 1fr auto / 2fr 1fr;\n    grid-template-areas:\n      'scoreboard keypad'\n      'scoreboard toolbar';\n  }\n"]);return he=function(){return e},e}function Oe(){var e=Object(O.a)(["\n  background-color: ",";\n  box-shadow: inset 0 0 10rem black;\n  display: grid;\n  height: calc(100vh - ","rem);\n  padding: ","rem;\n"]);return Oe=function(){return e},e}var je,we=j.b.div(Oe(),"#006e3b",2,1),Ee=j.b.div(he(),1),ye=Object(j.a)(ve());!function(e){e.Bidding="BIDDING",e.Score="SCORE"}(je||(je={}));var ke=function(){var e=["VI","DE"],n=e.map(function(e){return{points:0,team:e}});return{phase:je.Bidding,score:n,sets:[],teams:e}},Se=function(e,n){var t=sessionStorage.getItem(e);return null!==t?JSON.parse(t):n},Ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xe(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Re=document.getElementById("root");i.a.render(a.a.createElement(function(){var e=Object(r.useState)(Se(b,ke())),n=Object(l.a)(e,2),t=n[0],o=n[1],i=Object(r.useState)(Se(p,[ke()])),s=Object(l.a)(i,2),d=s[0],v=s[1],h=Object(r.useState)(Se(g,0)),O=Object(l.a)(h,2),j=O[0],w=O[1];Object(r.useEffect)(function(){sessionStorage.setItem(b,JSON.stringify(t))},[t]),Object(r.useEffect)(function(){sessionStorage.setItem(p,JSON.stringify(d))},[d]),Object(r.useEffect)(function(){sessionStorage.setItem(g,JSON.stringify(j))},[j]);var E=Object(r.useState)({height:window.innerHeight,width:window.innerWidth}),y=Object(l.a)(E,2),k=y[0],S=y[1];Object(r.useEffect)(function(){var e=function(){S({height:document.body.clientHeight,width:document.body.clientWidth})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]);var C=function(){return t.phase===je.Bidding?je.Score:je.Bidding},x=function(e){var n=j+1;v([].concat(Object(u.a)(d.slice(0,n)),[e])),w(n)},R=j>0,I=j<d.length-1,W=d.length>1,N=t.phase===je.Bidding?function(e){var n=f()(t.sets),r=n?n.round+1:1,a=Object(c.a)({},t,{phase:C(),sets:[].concat(Object(u.a)(t.sets),[{bid:e,round:r}])});o(a),x(a)}:function(e){var n=f()(t.sets);if(n){var r,a=n.bid,i=a.points,s=a.team,d=t.teams.map(function(n){var t=n===e.team?e.points:14-e.points;return n===s&&t<i&&(t=-i),{points:t,team:n}}),m=t.teams.map(function(e,n){return{points:t.score[n].points+d[n].points,team:e}}),b=m.find(function(e){return e.team===a.team&&e.points>=62});if(b||(b=m.find(function(e){return e.points>=62})),!b){var p=Object(l.a)(m,2),g=p[0],v=p[1];g.points>v.points&&(r=g.team),v.points>g.points&&(r=v.team)}var h=Object(c.a)({},t,{leader:r,phase:C(),score:m,sets:[].concat(Object(u.a)(t.sets.slice(0,-1)),[Object(c.a)({},n,{score:d})]),winner:b});o(h),x(h)}};return a.a.createElement(a.a.Fragment,null,a.a.createElement(ye,null),a.a.createElement(we,null,t.winner&&a.a.createElement(m.a,{height:k.height,width:k.width,style:{pointerEvents:"none"}}),a.a.createElement(Ee,null,a.a.createElement(ee,{game:t}),a.a.createElement(ge,{canRedo:I,canResetScore:W,canUndo:R,redo:function(){var e=j+1;o(d[e]),w(e)},resetScore:function(){o(ke()),v([ke()]),w(0)},undo:function(){var e=j-1;o(d[e]),w(e)}}),a.a.createElement(A,{phase:t.phase,teams:t.teams,updateSet:N,winner:t.winner}))))},null),Re),function(e){if("serviceWorker"in navigator){if(new URL("/pidro-counter",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/pidro-counter","/service-worker.js");Ce?(function(e,n){fetch(e).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):xe(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):xe(n,e)})}}()}},[[19,1,2]]]);
//# sourceMappingURL=main.9ee17be3.chunk.js.map